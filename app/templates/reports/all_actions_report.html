{% extends 'main/base.html' %}

{% block content %}

    <h2>Detailed statistic: By actions</h2>

    {% if not actions %}
        <div class="container h-100 d-flex justify-content-center">
        <h4 class="text-center" style="height: 100px">Your report is preparing. Soon all will be ready!</h4>
        </div>
    {% else %}
    <table class="table table-striped">
    <thead>
    <tr>
        <th scope="col">Link</th>
        <th scope="col" style="width: 10%">IP</th>
        <th scope="col">User agent</th>
        <th scope="col" style="width: 8%">Action Type</th>
        <th scope="col">Purchase amount</th>
        <th scope="col">Time</th>
    </tr>
    </thead>
    <tbody>
    {% for action in actions %}
        <tr>
        <th>{{ action.link.name }}</th>
        <th>{{ action.ip_address }}</th>
        <th>{{ action.user_agent }}</th>
        <th>{{ config['ACTION_TYPE'][action.type_id] }}</th>
        <th>{{ action.purchase_amount }}</th>
        <th>{{ action.timestamp }}</th>
        </tr>
    {% endfor %}
    </tbody>
    </table>
    {% include '_pagination.html' %}
    {% endif %}
{% endblock %}